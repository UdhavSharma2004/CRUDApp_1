{"ast":null,"code":"import _slicedToArray from\"E:/React Projects/CrudApp1/crudapp1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{toast}from\"react-toastify\";import{getNames,createName,removeName}from\"./api\";import{EditOutlined,DeleteOutlined}from\"@ant-design/icons\";import{Link}from\"react-router-dom\";import FormElement from\"./form\";import Loading from\"./loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Crud=function Crud(){var _useState=useState(\" \"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),names=_useState6[0],setNames=_useState6[1];useEffect(function(){loadNames();},[]);var loadNames=function loadNames(){return getNames().then(function(name){return setNames(name.data);});};// console.log(\"working\");\nvar handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);createName({name:name}).then(function(res){setLoading(false);setName(\"\");toast.success(\"\".concat(res.data.name,\" has been created successfully\"));loadNames();}).catch(function(err){setLoading(false);if(err.response.status===400)toast.error(err.response.data);});};var handleRemove=function handleRemove(id,name){if(window.confirm(\"Do you really want to delete?\")){setLoading(true);removeName(id).then(function(res){setLoading(false);toast.error(\"\".concat(name,\" is has been deleted successfully\"));loadNames();}).catch(function(err){if(err.response.status===400){setLoading(false);toast.error(err.response.data);}});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"React CRUD Application\"}),/*#__PURE__*/_jsx(FormElement,{handleSubmit:handleSubmit,name:name,setName:setName}),names&&names.map(function(temp){return/*#__PURE__*/_jsx(\"div\",{className:\"border row mx-2 align-items-center\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[temp.name,/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return handleRemove(temp.id,temp.name);},className:\"btn btn-sm float-right\",children:/*#__PURE__*/_jsx(DeleteOutlined,{className:\"text-danger\"})}),/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(temp.id),children:/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-sm float-right\",children:/*#__PURE__*/_jsx(EditOutlined,{className:\"text-warning\"})})})]})})},temp.id);})]})})})});};export default Crud;","map":{"version":3,"names":["React","useState","useEffect","toast","getNames","createName","removeName","EditOutlined","DeleteOutlined","Link","FormElement","Loading","Crud","name","setName","loading","setLoading","names","setNames","loadNames","then","data","handleSubmit","e","preventDefault","res","success","catch","err","response","status","error","handleRemove","id","window","confirm","map","temp"],"sources":["E:/React Projects/CrudApp1/crudapp1/src/Tasks/index.js"],"sourcesContent":["import React ,{useState, useEffect} from 'react';\r\nimport { toast } from \"react-toastify\";\r\nimport { getNames,createName, removeName } from \"./api\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FormElement from \"./form\";\r\nimport Loading from \"./loading\";\r\n\r\nconst Crud = () => {\r\n    const [name, setName] = useState(\" \");\r\n    const [loading, setLoading] = useState(false);\r\n    const [names, setNames] = useState([]);\r\n    useEffect(() => {\r\n        loadNames();\r\n    }, []);\r\n    const loadNames = () => getNames().then((name) => setNames(name.data));\r\n    // console.log(\"working\");\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        createName({name}).then((res)=>{\r\n            setLoading(false);\r\n            setName(\"\");\r\n            toast.success(`${res.data.name} has been created successfully`);\r\n            loadNames();\r\n\r\n        }).catch((err)=>{\r\n            setLoading(false);\r\n            if(err.response.status===400) toast.error(err.response.data);\r\n        });\r\n    }\r\n    const handleRemove=(id,name)=>{\r\n        if(window.confirm(\"Do you really want to delete?\")){\r\n            setLoading(true);\r\n            removeName(id).then((res)=>{\r\n                setLoading(false);\r\n                toast.error(`${name} is has been deleted successfully`);\r\n                loadNames();\r\n            }).catch((err)=>{\r\n                if(err.response.status===400){\r\n                    setLoading(false);\r\n                    toast.error(err.response.data);\r\n                }\r\n            })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8\">\r\n                    {loading ? (<Loading />) :\r\n                        (\r\n                            <>\r\n                                <h4>React CRUD Application</h4>\r\n                                <FormElement\r\n                                handleSubmit={handleSubmit}\r\n                                name={name}\r\n                                setName={setName}\r\n                                />\r\n                                {names && names.map((temp) => (\r\n                                    <div className=\"border row mx-2 align-items-center\" key={temp.id}>\r\n                                        <ul className=\"list-group\">\r\n                                            <li className=\"list-group-item\">{temp.name}\r\n                                                <span onClick={()=>handleRemove(temp.id,temp.name)} className=\"btn btn-sm float-right\">\r\n                                                    <DeleteOutlined className=\"text-danger\" />\r\n                                                </span>\r\n                                                <Link to={`/update/${temp.id}`}>\r\n                                                    <span className=\"btn btn-sm float-right\">\r\n                                                        <EditOutlined className=\"text-warning\" />\r\n                                                    </span>\r\n                                                </Link>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </div>\r\n                                ))\r\n                                }\r\n                            </>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Crud;"],"mappings":"yHAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,QAAT,CAAkBC,UAAlB,CAA8BC,UAA9B,KAAgD,OAAhD,CACA,OAASC,YAAT,CAAuBC,cAAvB,KAA6C,mBAA7C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,YAAP,KAAwB,QAAxB,CACA,MAAOC,QAAP,KAAoB,WAApB,C,6IAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACf,cAAwBX,QAAQ,CAAC,GAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eACA,eAA8Bb,QAAQ,CAAC,KAAD,CAAtC,yCAAOc,OAAP,eAAgBC,UAAhB,eACA,eAA0Bf,QAAQ,CAAC,EAAD,CAAlC,yCAAOgB,KAAP,eAAcC,QAAd,eACAhB,SAAS,CAAC,UAAM,CACZiB,SAAS,GACZ,CAFQ,CAEN,EAFM,CAAT,CAGA,GAAMA,UAAS,CAAG,QAAZA,UAAY,SAAMf,SAAQ,GAAGgB,IAAX,CAAgB,SAACP,IAAD,QAAUK,SAAQ,CAACL,IAAI,CAACQ,IAAN,CAAlB,EAAhB,CAAN,EAAlB,CACA;AACA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAR,UAAU,CAAC,IAAD,CAAV,CACAX,UAAU,CAAC,CAACQ,IAAI,CAAJA,IAAD,CAAD,CAAV,CAAmBO,IAAnB,CAAwB,SAACK,GAAD,CAAO,CAC3BT,UAAU,CAAC,KAAD,CAAV,CACAF,OAAO,CAAC,EAAD,CAAP,CACAX,KAAK,CAACuB,OAAN,WAAiBD,GAAG,CAACJ,IAAJ,CAASR,IAA1B,oCACAM,SAAS,GAEZ,CAND,EAMGQ,KANH,CAMS,SAACC,GAAD,CAAO,CACZZ,UAAU,CAAC,KAAD,CAAV,CACA,GAAGY,GAAG,CAACC,QAAJ,CAAaC,MAAb,GAAsB,GAAzB,CAA8B3B,KAAK,CAAC4B,KAAN,CAAYH,GAAG,CAACC,QAAJ,CAAaR,IAAzB,EACjC,CATD,EAUH,CAbD,CAcA,GAAMW,aAAY,CAAC,QAAbA,aAAa,CAACC,EAAD,CAAIpB,IAAJ,CAAW,CAC1B,GAAGqB,MAAM,CAACC,OAAP,CAAe,+BAAf,CAAH,CAAmD,CAC/CnB,UAAU,CAAC,IAAD,CAAV,CACAV,UAAU,CAAC2B,EAAD,CAAV,CAAeb,IAAf,CAAoB,SAACK,GAAD,CAAO,CACvBT,UAAU,CAAC,KAAD,CAAV,CACAb,KAAK,CAAC4B,KAAN,WAAelB,IAAf,uCACAM,SAAS,GACZ,CAJD,EAIGQ,KAJH,CAIS,SAACC,GAAD,CAAO,CACZ,GAAGA,GAAG,CAACC,QAAJ,CAAaC,MAAb,GAAsB,GAAzB,CAA6B,CACzBd,UAAU,CAAC,KAAD,CAAV,CACAb,KAAK,CAAC4B,KAAN,CAAYH,GAAG,CAACC,QAAJ,CAAaR,IAAzB,EACH,CACJ,CATD,EAUH,CACJ,CAdD,CAeA,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,UAAf,UACKN,OAAO,cAAI,KAAC,OAAD,IAAJ,cAEA,wCACI,8CADJ,cAEI,KAAC,WAAD,EACA,YAAY,CAAEO,YADd,CAEA,IAAI,CAAET,IAFN,CAGA,OAAO,CAAEC,OAHT,EAFJ,CAOKG,KAAK,EAAIA,KAAK,CAACmB,GAAN,CAAU,SAACC,IAAD,qBAChB,YAAK,SAAS,CAAC,oCAAf,uBACI,WAAI,SAAS,CAAC,YAAd,uBACI,YAAI,SAAS,CAAC,iBAAd,WAAiCA,IAAI,CAACxB,IAAtC,cACI,aAAM,OAAO,CAAE,yBAAImB,aAAY,CAACK,IAAI,CAACJ,EAAN,CAASI,IAAI,CAACxB,IAAd,CAAhB,EAAf,CAAoD,SAAS,CAAC,wBAA9D,uBACI,KAAC,cAAD,EAAgB,SAAS,CAAC,aAA1B,EADJ,EADJ,cAII,KAAC,IAAD,EAAM,EAAE,mBAAawB,IAAI,CAACJ,EAAlB,CAAR,uBACI,aAAM,SAAS,CAAC,wBAAhB,uBACI,KAAC,YAAD,EAAc,SAAS,CAAC,cAAxB,EADJ,EADJ,EAJJ,GADJ,EADJ,EAAyDI,IAAI,CAACJ,EAA9D,CADgB,EAAV,CAPd,GAHZ,EADJ,EADJ,EADJ,CAqCH,CA3ED,CA6EA,cAAerB,KAAf"},"metadata":{},"sourceType":"module"}