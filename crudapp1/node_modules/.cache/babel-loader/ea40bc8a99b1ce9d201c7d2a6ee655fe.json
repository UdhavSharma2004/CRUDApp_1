{"ast":null,"code":"import _slicedToArray from\"E:/React Projects/CrudApp1/crudapp1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{toast}from\"react-toastify\";import{updateName,getName}from\"./api\";import FormElement from\"./form\";import Loading from\"./loading\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Update=function Update(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){loadName();},[]);var loadName=function loadName(){getName(id).then(function(d){return setName(d.data.name);});};var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);updateName(id,{name:name}).then(function(res){setLoading(false);setName(\"\");toast.success(\"\".concat(res.data.name,\" has  been updated\"));navigate(-1);}).catch(function(err){setLoading(false);if(err.response.status===400)toast.error(err.response.data);});};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(\"h4\",{children:\"Update Element\"}),/*#__PURE__*/_jsx(FormElement,{handleSubmit:handleSubmit,name:name,setName:setName})]})});};export default Update;","map":{"version":3,"names":["React","useState","useEffect","toast","updateName","getName","FormElement","Loading","useNavigate","useParams","Update","id","name","setName","loading","setLoading","loadName","then","d","data","navigate","handleSubmit","e","preventDefault","res","success","catch","err","response","status","error"],"sources":["E:/React Projects/CrudApp1/crudapp1/src/Tasks/update.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport {toast} from \"react-toastify\";\r\nimport{updateName,getName} from \"./api\";\r\nimport FormElement from \"./form\";\r\nimport Loading from \"./loading\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst Update=()=>{\r\n    const {id}=useParams();\r\n    const[name,setName]=useState(\"\");\r\n    const[loading,setLoading]=useState(false);\r\n        useEffect(()=>{\r\n            loadName();\r\n        },[]);\r\n    const loadName=()=>{\r\n        getName(id).then((d)=>setName(d.data.name));\r\n    };\r\n    const navigate=useNavigate();\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        updateName(id,{name}).then((res)=>{\r\n            setLoading(false);\r\n            setName(\"\");\r\n            toast.success(`${res.data.name} has  been updated`);\r\n            navigate(-1);\r\n        }).catch((err)=>{\r\n            setLoading(false);\r\n            if(err.response.status === 400)\r\n                toast.error(err.response.data);\r\n        })\r\n    };\r\n\r\n        return(\r\n            <div className=\"container-fluid\">\r\n                <div className=\"col-md-8\">\r\n                    {loading ? <Loading/>:<h4>Update Element</h4>}\r\n                    <FormElement handleSubmit={handleSubmit} name={name} setName={setName}/>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n};\r\n\r\nexport default Update;"],"mappings":"yHAAA,MAAOA,MAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,OAAOC,UAAP,CAAkBC,OAAlB,KAAgC,OAAhC,CACA,MAAOC,YAAP,KAAwB,QAAxB,CACA,MAAOC,QAAP,KAAoB,WAApB,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,C,wFAEA,GAAMC,OAAM,CAAC,QAAPA,OAAO,EAAI,CACb,eAAWD,SAAS,EAApB,CAAOE,EAAP,YAAOA,EAAP,CACA,cAAoBV,QAAQ,CAAC,EAAD,CAA5B,wCAAMW,IAAN,eAAWC,OAAX,eACA,eAA0BZ,QAAQ,CAAC,KAAD,CAAlC,yCAAMa,OAAN,eAAcC,UAAd,eACIb,SAAS,CAAC,UAAI,CACVc,QAAQ,GACX,CAFQ,CAEP,EAFO,CAAT,CAGJ,GAAMA,SAAQ,CAAC,QAATA,SAAS,EAAI,CACfX,OAAO,CAACM,EAAD,CAAP,CAAYM,IAAZ,CAAiB,SAACC,CAAD,QAAKL,QAAO,CAACK,CAAC,CAACC,IAAF,CAAOP,IAAR,CAAZ,EAAjB,EACH,CAFD,CAGA,GAAMQ,SAAQ,CAACZ,WAAW,EAA1B,CACA,GAAMa,aAAY,CAAC,QAAbA,aAAa,CAACC,CAAD,CAAK,CACpBA,CAAC,CAACC,cAAF,GACAR,UAAU,CAAC,IAAD,CAAV,CACAX,UAAU,CAACO,EAAD,CAAI,CAACC,IAAI,CAAJA,IAAD,CAAJ,CAAV,CAAsBK,IAAtB,CAA2B,SAACO,GAAD,CAAO,CAC9BT,UAAU,CAAC,KAAD,CAAV,CACAF,OAAO,CAAC,EAAD,CAAP,CACAV,KAAK,CAACsB,OAAN,WAAiBD,GAAG,CAACL,IAAJ,CAASP,IAA1B,wBACAQ,QAAQ,CAAC,CAAC,CAAF,CAAR,CACH,CALD,EAKGM,KALH,CAKS,SAACC,GAAD,CAAO,CACZZ,UAAU,CAAC,KAAD,CAAV,CACA,GAAGY,GAAG,CAACC,QAAJ,CAAaC,MAAb,GAAwB,GAA3B,CACI1B,KAAK,CAAC2B,KAAN,CAAYH,GAAG,CAACC,QAAJ,CAAaT,IAAzB,EACP,CATD,EAUH,CAbD,CAeI,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAK,SAAS,CAAC,UAAf,WACKL,OAAO,cAAG,KAAC,OAAD,IAAH,cAAc,sCAD1B,cAEI,KAAC,WAAD,EAAa,YAAY,CAAEO,YAA3B,CAAyC,IAAI,CAAET,IAA/C,CAAqD,OAAO,CAAEC,OAA9D,EAFJ,GADJ,EADJ,CASP,CAnCD,CAqCA,cAAeH,OAAf"},"metadata":{},"sourceType":"module"}